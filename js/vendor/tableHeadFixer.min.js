!function(t){t.fn.tableHeadFixer=function(n){return this.each(function(){(function(){function o(n){n.each(function(n,o){var o=t(o),i=t(o).parent(),r=o.css("background-color");r="transparent"==r||"rgba(0, 0, 0, 0)"==r?null:r;var e=i.css("background-color"),a=(e="transparent"==e||"rgba(0, 0, 0, 0)"==e?null:e)||"white";a=r||a,o.css("background-color",a)})}function i(n,o){for(var i=r.left,e=1,a=1;a<=i;a+=e){var f=e>1?a-1:a,c=t(n).find("> *:nth-child("+f+")"),l=c.prop("colspan");void 0!==c.cellPos()&&c.cellPos().left<i&&o(c),e=l}}var r=t.extend({},{head:!0,foot:!1,left:0,right:0,"z-index":0},n);r.table=this,r.parent=t(r.table).parent(),f=t(r.parent),c=t(r.table),f.append(c),f.css({"overflow-x":"auto","overflow-y":"auto"}),f.scroll(function(){var t=f[0].scrollWidth,n=f[0].clientWidth,o=f[0].scrollHeight,i=f[0].clientHeight,e=f.scrollTop(),a=f.scrollLeft();r.head&&this.find("> thead > tr > *").css("top",e),r.foot&&this.find("> tfoot > tr > *").css("bottom",o-i-e),r.left>0&&r.leftColumns.css("left",a),r.right>0&&r.rightColumns.css("right",t-n-a)}.bind(c)),1==r.head&&((e=t(r.table).find("> thead")).find("> tr"),o(a=e.find("> tr > *")),a.css({position:"relative"}));var e,a;var f,c;1==r.foot&&function(){var n=t(r.table).find("> tfoot"),i=(n.find("> tr"),n.find("> tr > *"));o(i),i.css({position:"relative"})}();r.left>0&&function(){var n=t(r.table);r.leftColumns=t(),n.find("> thead > tr, > tbody > tr, > tfoot > tr").each(function(t,n){i(n,function(t){r.leftColumns=r.leftColumns.add(t)})}),r.leftColumns.each(function(n,i){var i=t(i);o(i),i.css({position:"relative"})})}();r.right>0&&function(){var n=t(r.table);r.right;r.rightColumns=t();var i=n.find("> thead").find("> tr"),e=n.find("> tbody").find("> tr"),a=null;i.each(function(n,o){!function(n,o){for(var i=r.right,e=1,a=1;a<=i;a+=e){var f=e>1?a-1:a,c=t(n).find("> *:nth-last-child("+f+")"),l=c.prop("colspan");o(c),e=l}}(o,function(t){0===n&&(a=t),r.rightColumns=r.rightColumns.add(a)})}),e.each(function(n,o){!function(n,o){for(var i=r.right,e=1,a=1;a<=i;a+=e){var f=e>1?a-1:a,c=t(n).find("> *:nth-last-child("+f+")"),l=c.prop("colspan");o(c),e=l}}(o,function(t){r.rightColumns=r.rightColumns.add(t)})}),r.rightColumns.each(function(n,i){var i=t(i);o(i),i.css({position:"relative","z-index":"9999"})})}();(function(){var n=t(r.table);if(r.head){if(r.left>0){var o=n.find("> thead > tr");o.each(function(n,o){i(o,function(n){t(n).css("z-index",r["z-index"]+1)})})}if(r.right>0){var o=n.find("> thead > tr");o.each(function(n,o){solveRightColspan(o,function(n){t(n).css("z-index",r["z-index"]+1)})})}}if(r.foot){if(r.left>0){var o=n.find("> tfoot > tr");o.each(function(n,o){i(o,function(n){t(n).css("z-index",r["z-index"])})})}if(r.right>0){var o=n.find("> tfoot > tr");o.each(function(n,o){solveRightColspan(o,function(n){t(n).css("z-index",r["z-index"])})})}}})(),t(r.parent).trigger("scroll"),t(window).resize(function(){t(r.parent).trigger("scroll")})}).call(this)})}}(jQuery),function(t){t.fn.cellPos=function(n){var o=this.first(),i=o.data("cellPos");i&&!n||function(n){var o=[];n.children("tr").each(function(n,i){t(i).children("td, th").each(function(i,r){var e,a,f=t(r),c=0|f.attr("colspan"),l=0|f.attr("rowspan");for(c=c||1,l=l||1;o[n]&&o[n][i];++i);for(e=i;e<i+c;++e)for(a=n;a<n+l;++a)o[a]||(o[a]=[]),o[a][e]=!0;var s={top:n,left:i};f.data("cellPos",s)})})}(o.closest("table, thead, tbody, tfoot"));return i=o.data("cellPos")}}(jQuery);