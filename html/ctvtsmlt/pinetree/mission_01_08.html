<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="x-ua-compatible" content="ie=edge" />
        <title>1주차d | 재배 시뮬레이션 스마트팜</title>
        <meta name="description" content="" />
        <meta name="viewport" content="width=1445, initial-scale=1.0" />
        <link rel="apple-touch-icon" href="icon.png" />
        <!-- Place favicon.ico in the root directory -->
        <link rel="stylesheet" href="/css/vendor/normalize.css" />
        <link rel="stylesheet" href="/css/vendor/font-awesome/css/font-awesome.min.css" />
        <script src="/js/vendor/jquery-1.12.0.min.js"></script>
        <script src="/js/vendor/t.min.js"></script>
        <link rel="stylesheet" href="/css/ctvtsmlt/pinetree/week_1_style.css" />
        <link rel="stylesheet" href="/css/vendor/jquery-ui.all.css" />
        <style>
            .week-1 .miss-1-1__bottle {
                width: 166px !important;
            }
            .btn.-complete {
                margin-left: 0;
            }
            @font-face {
                font-family: "KyoboHand";
                src: url("https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_20-04@1.0/KyoboHand.woff") format("woff");
                font-weight: normal;
                font-style: normal;
            }
            .title {
                font-family: "KyoboHand";
                font-size: 24px;
            }
            .btn.-complete {
                background: url(/images/pinetree/nonBtn.png) no-repeat;
            }
        </style>
    </head>
    <body>
        <article role="main" class="stage week-1 miss-1-1">
            <div class="stage__bg"></div>
            <div class="stage__top">
                <h1 class="stage__tit">시설양묘 2년차</h1>
                <a href="/html/ctvtsmlt/pinetree/lobby.html?id=1" class="stage__exit">나가기</a>
            </div>
            <input type="checkbox" id="chkFx" checked="checked" />
            <div class="tip">
                <button type="button" class="tipBtn">선생님팁</button>
                <div class="tip__star">
                    <div class="iconStar"></div>
                    <small class="iconStar"></small>
                    <div class="tip__line">
                        <img src="/images/pinetree/bg_tip_line.png" alt="" class="tip__lineImg" />
                    </div>
                </div>
            </div>
            <div class="stage__count">
                <p class="stage__countTit">미션 도전횟수</p>
                <p class="stage__countNum">0</p>
            </div>

            <!--미션1-1-->
            <section class="stage__content mission_01_01 -active">
                <h2 class="miss__tit">8. 시비하기</h2>
                <p class="miss__txt">
                    좋은 생육 유지를 위해 멀티피드19(1,000배액)를 주 2회 시비하려고 합니다.<br />
                    반자동 양액시비시설을 사용해 액비를 공급해보세요
                </p>
                <div class="miss-1-1__box">
                    <div style="background: #fff; padding: 80px 240px 40px 0px; border: 4px solid #000; border-radius: 30px; overflow: hidden">
                        <p class="title" style="position: absolute; top: 28px; width: 100%; left: 42px">8-1 양액조절기의 농도 1%를 조절하세요.</p>
                        <div
                            style="
                                width: 40px;
                                height: 40px;
                                border-radius: 50%;
                                border: 4px solid red;
                                position: absolute;
                                left: 34%;
                                top: 248px;
                                background: rgba(255, 255, 255, 0.6);
                            "
                        ></div>
                        <div style="width: 170px; height: 2px; background-color: red; position: absolute; left: 190px; top: 190px; transform: rotate(140deg)"></div>
                        <div style="width: 170px; height: 2px; background-color: red; position: absolute; left: 190px; top: 328px; transform: rotate(33deg)"></div>
                        <img src="/images/pinetree/bgg_08.svg" alt="" style="width: 100%; height: 100%; object-fit: cover" />
                        <img src="/images/pinetree/lit.svg" alt="" style="position: absolute; right: 20px; top: 36%; width: 170px" />
                        <div id="redLine" style="position: absolute; right: 68px; bottom: -14px; width: 113px; height: 8px; background: red"></div>
                    </div>
                </div>
                <p class="miss-1-1__addTxt" style="font-size: 32px; font-family: jalnan; left: calc(50% + 332px)"><span>0.0</span>ℓ</p>
                <button class="iconBtnPlus" onclick="console.log('+')" style="top: 260px">1리터 추가하기 버튼</button>
                <button class="iconBtnPlus iconBtnPlusMinus" onclick="console.log('-')" style="top: 455px; background-image: url(/images/sprite/minus.png)">
                    1리터 추가하기 버튼
                </button>
                <!-- <img src="/images/pinetree/week01/miss_1_1/img_miss-1-1_hand.png" alt="" class="pinetree-1-1__hand" /> -->
                <div class="btnGroup" style="display: none">
                    <a href="/html/ctvtsmlt/pinetree/mission_01_08_2.html" class="btn -complete">완료</a>
                </div>
                <!--미션1-1 도움말 -->
                <aside class="tipBox miss-1-1">
                    <div class="tipBox__inner">
                        <div class="tipBox__tec">
                            <span class="tipBox__tecStar"></span>
                            <span class="tipBox__starLine"></span>
                        </div>
                        <div class="tipBox__txtBox">
                            <h2 class="tipBox__tit">선생님의 재배 tip</h2>
                            <p class="miss-1-1__tipTxt" style="text-align: left; overflow: auto; max-height: 450px">
                                <span style="display: block; padding-bottom: 12px; margin-bottom: 16px; border-bottom: 1px solid #000; font-family: jalnan"
                                    >□ 반자동 양액시비시설</span
                                >
                                ※ 작동방법 : 도사트론 주입기의 맨아래 밸브를 좌측으로 돌려 열고<br />
                                주입비율을 맞춘 후, 밸브 ①, ②은 열고 밸브 ③은 닫음.<br /><br />
                                ※ 시비는 하지 않고 관수만 할 경우에는 이와 반대로 실시함.
                            </p>
                            <img src="/images/pinetree/week01/miss_1_1/img_miss-1-1_tip.jpg" alt="" style="width: 84%" />
                            <button type="button" class="tipBox__close">창닫기</button>
                        </div>
                    </div>
                </aside>
            </section>
            <!-- //미션 1-1 -->
        </article>
    </body>
    <script src="/js/vendor/jquery.ui.datapicker.min.js"></script>
    <script src="/js/vendor/waypoints.min.js"></script>
    <script src="/js/vendor/datepicker-ko.js"></script>
    <script src="/js/vendor/modernizr-3.5.0.min.js"></script>
    <script src="/js/vendor/jquery.easing.1.3.js"></script>
    <script src="/js/vendor/slick.min.js"></script>
    <script src="/js/vendor/jquery.counterup.min.js"></script>
    <script src="/js/ui.js"></script>

    <script src="/js/vendor/jquery.confetti.js"></script>
    <script src="/js/vendor/jquery-ui.js"></script>
    <script src="/js/miss.min.js"></script>
    <script src="/js/sound.min.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            let challengeCount = 0; //도전횟수
            let maxClickCount = 20; // 최대 클릭 횟수
            let currentClickCount = 0; // 현재 클릭 횟수
            loadingComplete();
        });

        const redLine = document.getElementById("redLine");
        const missNum = document.querySelector(".miss-1-1__addTxt span");
        const plusBtn = document.querySelector(".iconBtnPlus");
        const minusBtn = document.querySelector(".iconBtnPlusMinus");
        const btnGroup = document.querySelector(".btnGroup");

        plusBtn.addEventListener("click", function () {
            if (parseInt(redLine.style.bottom) <= 223 && parseFloat(missNum.textContent) < 2.0) {
                redLine.style.bottom = parseInt(redLine.style.bottom) + 20 + "px";
                missNum.textContent = (parseFloat(missNum.textContent) + 0.2).toFixed(1);
                toggleBtnGroupVisibility(); // plusBtn 클릭 시 버튼 그룹 표시 여부 업데이트
            }
        });

        minusBtn.addEventListener("click", function () {
            if (parseInt(redLine.style.bottom) >= 0.0) {
                redLine.style.bottom = parseInt(redLine.style.bottom) - 20 + "px";
                missNum.textContent = (parseFloat(missNum.textContent) - 0.2).toFixed(1);
                toggleBtnGroupVisibility(); // minusBtn 클릭 시 버튼 그룹 표시 여부 업데이트
            }
        });

        function toggleBtnGroupVisibility() {
            const currentValue = parseFloat(missNum.textContent);
            if (currentValue === 1.0) {
                btnGroup.style.display = "block";
            } else {
                btnGroup.style.display = "none";
            }
        }
    </script>
</html>
