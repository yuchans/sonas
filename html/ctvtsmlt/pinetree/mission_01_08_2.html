<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="x-ua-compatible" content="ie=edge" />
        <title>1주차d | 재배 시뮬레이션 스마트팜</title>
        <meta name="description" content="" />
        <meta name="viewport" content="width=1445, initial-scale=1.0" />
        <link rel="apple-touch-icon" href="icon.png" />
        <!-- Place favicon.ico in the root directory -->
        <link rel="stylesheet" href="/css/vendor/normalize.css" />
        <link rel="stylesheet" href="/css/vendor/font-awesome/css/font-awesome.min.css" />
        <script src="/js/vendor/jquery-1.12.0.min.js"></script>
        <script src="/js/vendor/t.min.js"></script>
        <link rel="stylesheet" href="/css/ctvtsmlt/pinetree/week_1_style.css" />
        <link rel="stylesheet" href="/css/vendor/jquery-ui.all.css" />
        <style>
            .week-1 .miss-1-1__bottle {
                width: 166px !important;
            }
            .success__point {
                font-size: 22px;
            }
            .success__box {
                margin-top: 34px;
            }
            @font-face {
                font-family: "KyoboHand";
                src: url("https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_20-04@1.0/KyoboHand.woff") format("woff");
                font-weight: normal;
                font-style: normal;
            }
            .title {
                font-family: "KyoboHand";
                font-size: 24px;
            }
        </style>
    </head>
    <body>
        <article role="main" class="stage week-1 miss-1-1">
            <div class="stage__bg"></div>
            <div class="stage__top">
                <h1 class="stage__tit">시설양묘 2년차</h1>
                <a href="/html/ctvtsmlt/lobby.html?id=1" class="stage__exit">나가기</a>
            </div>
            <input type="checkbox" id="chkFx" checked="checked" />
            <div class="tip">
                <button type="button" class="tipBtn">선생님팁</button>
                <div class="tip__star">
                    <div class="iconStar"></div>
                    <small class="iconStar"></small>
                    <div class="tip__line">
                        <img src="/images/pinetree/bg_tip_line.png" alt="" class="tip__lineImg" />
                    </div>
                </div>
            </div>
            <div class="stage__count">
                <p class="stage__countTit">미션 도전횟수</p>
                <p class="stage__countNum">0</p>
            </div>

            <!--미션1-1-->
            <section class="stage__content mission_01_01 -active">
                <h2 class="miss__tit">8. 시비하기</h2>
                <p class="miss__txt">
                    좋은 생육 유지를 위해 멀티피드19(1,000배액)를 주 2회 시비하려고 합니다.<br />
                    반자동 양액시비시설을 사용해 액비를 공급해보세요
                </p>
                <p
                    class="title"
                    style="text-align: center; position: absolute; background: #fff; left: 50%; top: 206px; transform: translateX(-50%); padding: 10px 20px; border-radius: 100px"
                >
                    8-2 양액 탱크에 멀티피드19를 20ℓ를 넣으세요
                </p>
                <div class="miss-1-1__box" style="margin: 100px auto 0">
                    <div class="miss-1-1__num">
                        <div class="numBox"><span class="icon0">0</span><span class="icon0">0</span></div>
                        <span class="iconLiter"></span>
                    </div>
                    <div class="miss-1-1__cup">
                        <img src="/images/pinetree/week01/miss_1_1/img_water.png" alt="" class="miss-1-1__water" />
                        <img src="/images/pinetree/week01/miss_1_1/img_line.png" alt="" class="miss-1-1__line" />
                        <img src="/images/pinetree/week01/miss_1_1/img_txt_water.png" ` alt="" class="miss-1-1__txtWater" />
                        <div class="miss-1-1__waterLine" style="display: none"></div>
                        <img src="/images/pinetree/week01/miss_1_1/img_water_guide.png" alt="" class="miss-1-1__guide" />
                        <!-- <div class="pinetree-1-1__bubble" style="display: none">
                            <img src="/images/pinetree/week01/miss_1_1/img_bubble.png" alt="" class="bubble01" />
                            <img src="/images/pinetree/week01/miss_1_1/img_bubble2.png" alt="" class="bubble02" />
                            <img src="/images/pinetree/week01/miss_1_1/img_bubble3.png" alt="" class="bubble03" />
                            <img src="/images/pinetree/week01/miss_1_1/img_bubble3.png" alt="" class="bubble04" />
                            <img src="/images/pinetree/week01/miss_1_1/img_bubble3.png" alt="" class="bubble05" />
                        </div> -->
                    </div>
                    <div class="miss-1-1__disinfectant">
                        <div class="miss-1-1__shadow"></div>
                        <img src="/images/pinetree/week01/miss_1_1/img_bottle.svg" alt="" class="miss-1-1__bottle" />
                    </div>
                </div>
                <img src="/images/pinetree/week01/miss_1_1/miss-1-1_txt.png" alt="2리터 붓기" class="miss-1-1__addTxt" />
                <div class="iconBtnPlus">1리터 추가하기 버튼</div>
                <button type="button" class="miss-1-1__activeBtn"></button>
                <img src="/images/pinetree/week01/miss_1_1/img_miss-1-1_hand.png" alt="" class="miss-1-1__hand" />
                <div class="btnGroup" style="display: none">
                    <a href="#this" onclick="copleteCheck()" class="btn" style="margin-left: 0">
                        <img src="/images/pinetree/cop_8.png" alt="" />
                    </a>
                </div>
                <!--미션1-1 도움말 -->
                <aside class="tipBox miss-1-1">
                    <div class="tipBox__inner">
                        <div class="tipBox__tec">
                            <span class="tipBox__tecStar"></span>
                            <span class="tipBox__starLine"></span>
                        </div>
                        <div class="tipBox__txtBox">
                            <h2 class="tipBox__tit">선생님의 재배 tip</h2>
                            <p class="miss-1-1__tipTxt" style="text-align: left; overflow: auto; max-height: 450px">
                                <span style="display: block; padding-bottom: 12px; margin-bottom: 16px; border-bottom: 1px solid #000; font-family: jalnan"
                                    >1. 생육단계별 시비 관리</span
                                >
                                1) 유묘 형성기(초기 생육기) 시비 관리하기<br />
                                현재 우리나라에서 임업시설양묘에서 보편적으로 사용되고 있는 <br />수용액 비료인 멀 티피드 19(N:P:K=19:19:19)를 상대적으로 저농도인<br />
                                2,000배액(500mg/ℓ)으로 조절하여 주 2회 정도 충분히 실시한다.<br />
                                발아초기 단계에는 종자가 자체 양분을 가지고 있으므로<br />
                                상배축(上胚軸, epicotyl) 또는 하배축(下胚軸, hypocotyl)이 나오기 전에는<br />
                                과다한 관수와 시비로 인하여 종자가 썩지 않도록 하고,<br />
                                이끼가 먼저 발생하지 않도록 주의한다.<br /><br />
                                <span style="display: block; padding-bottom: 12px; margin-bottom: 16px; border-bottom: 1px solid #000; font-family: jalnan"
                                    >2) 빠른 생육기 시비 관리하기</span
                                >수용액 비료인 멀티피드 19를 1,000배액(1,000mg/ℓ)으로 조절하여<br />
                                주 2회 정도 충분히 실시한다. 묘목의 전 생육과정에서 간장, 근원경 및 뿌리가 <br />상대적으로 빠 른 생장을 보이는 단계이다. 이 단계에서 묘목은 빠른
                                생장을 하여<br />
                                간장이 목표 규격에 이르는 시기이며 대부분의 건중량 생장이<br />
                                이루어지기 때문에 충분한 시비를 통해 최대한 좋은 생육을 유지하도록 한다.
                            </p>
                            <button type="button" class="tipBox__close">창닫기</button>
                        </div>
                    </div>
                </aside>

                <!-- 미션 성공 -->
                <aside class="success miss-1-1">
                    <div class="success__inner">
                        <h2 class="success__tit"><img src="/images/pinetree/txt_complete.png" alt="미션성공" /></h2>
                        <p class="success__point">
                            멀티피드19 1,000배액을 반자동 양액시비<br />
                            시설을 사용해 주 2회 시비하였습니다.
                        </p>
                        <div class="success__box">
                            <img src="/images/pinetree/suc_8.png" alt="" />
                        </div>
                        <a href="/html/ctvtsmlt/lobby.html?id=1" class="btnMain" style="left: 42%"></a>
                        <a href="/html/ctvtsmlt/pinetree/mission_01_09.html" class="btnNext" style="left: 58%">
                            <img src="/images/sprite/nextBtn.png" alt="" />
                        </a>
                    </div>
                </aside>

                <!-- 틀림답 -->
                <aside class="incorrect miss-1-1">
                    <div class="incorrect__inner">
                        <button type="button" class="incorrect__handBox">
                            <span class="incorrect__handImg"></span>
                            <p class="incorrect__txt">
                                소독제의 양이 정확하지 않습니다.<br />
                                다시 시도해보세요.
                            </p>
                        </button>
                    </div>
                </aside>
            </section>
            <!-- //미션 1-1 -->
        </article>
    </body>
    <script src="/js/vendor/jquery.ui.datapicker.min.js"></script>
    <script src="/js/vendor/waypoints.min.js"></script>
    <script src="/js/vendor/datepicker-ko.js"></script>
    <script src="/js/vendor/modernizr-3.5.0.min.js"></script>
    <script src="/js/vendor/jquery.easing.1.3.js"></script>
    <script src="/js/vendor/slick.min.js"></script>
    <script src="/js/vendor/jquery.counterup.min.js"></script>
    <script src="/js/ui.js"></script>

    <script src="/js/vendor/jquery.confetti.js"></script>
    <script src="/js/vendor/jquery-ui.js"></script>
    <script src="/js/miss.min.js"></script>
    <script src="/js/sound.min.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            let challengeCount = 0; //도전횟수
            let maxClickCount = 20; // 최대 클릭 횟수
            const btnGroup = document.querySelector(".btnGroup");
            let currentClickCount = 0; // 현재 클릭 횟수
            loadingComplete();

            //미션1-1
            (function () {
                let chkHover = true;
                let timeNum = 1;
                let timeSecondNum = 0;
                let waterLevel = 0;
                let $setNum = document.querySelectorAll(".numBox span"); //넘버타겟
                let count = 0; //정답 버튼 클릭수
                let chkTimer = true;
                const clickTime = 300; //100이하로는 안됨;

                const missBtn = document.querySelector(".miss-1-1__activeBtn");
                const missBox = document.querySelector(".miss-1-1__box");
                const missCup = document.querySelector(".miss-1-1__cup");
                const missWater = document.querySelector(".miss-1-1__water");
                const missNum = document.querySelector(".miss-1-1__num");
                const missCap = document.querySelector(".miss-1-1__cap");

                missBtn.addEventListener("mouseover", function () {
                    missBox.classList.remove("-down");
                    missBox.classList.add("-up");
                    setTimeout(() => (missCap.style.display = "none"), 1000);
                });

                missBtn.addEventListener("mouseleave", () => {
                    missBox.classList.remove("-up");
                    missBox.classList.add("-down");
                });

                missBtn.addEventListener("mousedown", () => {
                    document.querySelectorAll(".iconBtnPlus, .miss-1-1__hand").forEach((el) => el.classList.add("-click"));
                });

                missBtn.addEventListener("mouseup", () => {
                    document.querySelectorAll(".iconBtnPlus, .miss-1-1__hand").forEach((el) => el.classList.remove("-click"));
                });

                missBtn.addEventListener("click", function () {
                    if (chkTimer) {
                        chkTimer = false;
                        soundFx(sound_water);
                        soundFx(sound_click);
                        count++;
                        missBox.classList.add("-click");
                        missCup.insertAdjacentHTML(
                            "beforeend",
                            `
            <div class="miss-1-1__waterLine"></div>
            `
                        );

                        // 클릭할 때마다 숫자를 2씩 증가하도록 수정
                        if (timeNum === 0 || timeNum === 1) {
                            timeNum = 2; // 처음 클릭시 2로 초기화
                        } else {
                            timeNum += 2; // 2씩 증가
                        }
                        timeNum = timeNum % 10; // 10 이상이면 다시 0부터 시작
                        $setNum[1].classList = `icon${timeNum}`; // 두 번째 자리 숫자 업데이트

                        if (timeNum === 0) {
                            timeSecondNum++; // 두 번째 자리가 0이 되면 첫 번째 자리 증가
                            timeSecondNum = timeSecondNum % 4; // 4 이상이면 다시 0부터 시작
                            $setNum[0].classList = `icon${timeSecondNum}`; // 첫 번째 자리 숫자 업데이트
                        }

                        // 숫자가 20을 넘어가면 "완료" 버튼 숨기기
                        if (timeSecondNum * 10 + timeNum > 20) {
                            btnGroup.style.display = "none";
                        }

                        waterLevel++;
                        waterLevel = Math.min(waterLevel, 30);
                        missWater.style.bottom = `11px + ${waterLevel}px`;
                        missNum.insertAdjacentHTML("beforeend", '<span class="iconNumPlus"></span>');

                        setTimeout(() => missNum.querySelector(".iconNumPlus").remove(), 500);
                    } else {
                        return;
                    }

                    setTimeout(() => (chkTimer = true), clickTime);

                    // 클릭 횟수가 10회면 완료 버튼 활성화
                    if (count === 10) {
                        btnGroup.style.display = "block";
                    }
                });
            })();
        });

        function copleteCheck() {
            new Audio("/sound/sound_yea.mp3").play();
            clear();
        }
    </script>
</html>
